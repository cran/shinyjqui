<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Yang Tang" />

<meta name="date" content="2017-03-04" />

<title>Introduction to shinyjqui</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Introduction to shinyjqui</h1>
<h4 class="author"><em>Yang Tang</em></h4>
<h4 class="date"><em>2017-03-04</em></h4>



<p>The <code>shinyjqui</code> package provides functions to give shiny ui mouse-interactions and animation effects. This vignette provides some general introductions and examples.</p>
<div id="the-includejqueryui-function" class="section level2">
<h2>The <code>includeJqueryUI</code> function</h2>
<p>Please first call <code>includeJqueryUI()</code> in <code>ui</code> of a shiny app before using other <code>shinyjqui</code> functions. This function loads some necessary js and css into the head of a shiny html document.</p>
</div>
<div id="interaction-funcions" class="section level2">
<h2>Interaction funcions</h2>
<p>There are five kinds of mouse interactions in jQuery UI library:</p>
<ul>
<li><p><strong>Draggable:</strong> Allow elements to be moved using the mouse.</p></li>
<li><p><strong>Droppable:</strong> Create targets for draggable elements.</p></li>
<li><p><strong>Resizable:</strong> Change the size of an element using the mouse.</p></li>
<li><p><strong>Selectable:</strong> Use the mouse to select elements, individually or in a group.</p></li>
<li><p><strong>Sortable:</strong> Reorder elements in a list or grid using the mouse.</p></li>
</ul>
<p>Here are the corresponding R wrappers in <code>shinyjqui</code>:</p>
<table>
<thead>
<tr class="header">
<th align="left">Functions</th>
<th align="left">Description</th>
<th align="left">Where_to_use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">jqui_draggable</td>
<td align="left">Enable or disable element’s draggable interaction.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_draggabled</td>
<td align="left">Initialize an element as draggable.</td>
<td align="left">ui</td>
</tr>
<tr class="odd">
<td align="left">jqui_droppable</td>
<td align="left">Enable or disable element’s droppable interaction.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_droppabled</td>
<td align="left">Initialize an element as droppable.</td>
<td align="left">ui</td>
</tr>
<tr class="odd">
<td align="left">jqui_resizable</td>
<td align="left">Enable or disable element’s resizable interaction.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_resizabled</td>
<td align="left">Initialize an element as resizable.</td>
<td align="left">ui</td>
</tr>
<tr class="odd">
<td align="left">jqui_selectable</td>
<td align="left">Enable or disable element’s selectable interaction.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_selectabled</td>
<td align="left">Initialize an element as selectable.</td>
<td align="left">ui</td>
</tr>
<tr class="odd">
<td align="left">jqui_sortable</td>
<td align="left">Enable or disable element’s sortable interaction.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_sortabled</td>
<td align="left">Initialize an element as sortable.</td>
<td align="left">ui</td>
</tr>
</tbody>
</table>
<div id="general-usage" class="section level3">
<h3>General usage</h3>
<p>For each interaction, there are two functions: <code>-able()</code> and <code>-abled()</code>. They both can make a shiny html element interactive, but should be used in different places. The <code>-abled()</code> functions are designed to be used in <code>ui</code> of a shiny document. They return a modified element (tag, tagList, input or output) with interaction enabled. The <code>-able()</code> functions modify the interactivity of existing (pre-defined in <code>ui</code>) elements and therefore should be placed in <code>server</code> of a shiny document. For example, you can make a <code>textInput</code> draggable either by:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in shiny ui</span>
<span class="kw">jqui_draggabled</span>(<span class="kw">textInput</span>(<span class="st">'input'</span>, <span class="st">'Input'</span>))</code></pre></div>
<p>or in this way:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in shiny ui</span>
<span class="kw">textInput</span>(<span class="st">'input'</span>, <span class="st">'Input'</span>)

<span class="co"># in shiny server, either outside or in observe() or ovservEvent()</span>
<span class="kw">jqui_draggable</span>(<span class="dt">selector =</span> <span class="st">'#input'</span>)</code></pre></div>
<p>The <code>-able()</code> functions use <a href="https://api.jquery.com/category/selectors/">jQuery selector</a> to identify which element to act on. In the above example, the selector <code>#input</code> refers to the element with id <code>input</code>. So you can make all the shiny inputs draggable by <code>jqui_draggable(selector = '.shiny-bound-input')</code>.</p>
<p>For <code>-abled()</code> functions, you can also make multiple elements interactive by wrapping them with <code>tagList()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in shiny ui, make each element in the tagList draggable</span>
<span class="kw">jqui_draggabled</span>(<span class="kw">tagList</span>(
  <span class="kw">selectInput</span>(<span class="st">'sel'</span>, <span class="st">'Select'</span>, <span class="dt">choices =</span> month.abb),
  <span class="kw">checkboxGroupInput</span>(<span class="st">'chbox'</span>, <span class="st">'Checkbox'</span>, <span class="dt">choices =</span> month.abb),
  <span class="kw">plotOutput</span>(<span class="st">'plot'</span>, <span class="dt">width =</span> <span class="st">'400px'</span>, <span class="dt">height =</span> <span class="st">'400px'</span>)
))</code></pre></div>
<p>The <code>-able()</code> functions have a <code>switch</code> parameter. Set it as <code>FALSE</code> to disable the interaction of an element:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in shiny server</span>
<span class="kw">jqui_draggable</span>(<span class="dt">selector =</span> <span class="st">'#input'</span>, <span class="dt">switch =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Both <code>-able()</code> and <code>-abled()</code> functions have an <code>options</code> parameter to let you pass interaction-specific options. You can find available options on jQuery UI’s <a href="http://api.jqueryui.com/category/interactions/">API Documentation</a> page. Some examples about these options are listed in the next few sections.</p>
<p>Once an interaction is turned on and if the target element has an <code>id</code>, you can get access to some pre-defined interaction-specific shiny input values through <code>input$id_suffix</code>, where the <code>id</code> is the id of target element (<code>id</code> attribute for shiny tag, <code>inputId</code> for shiny inputs, <code>outputId</code> for shiny outputs) and the <code>suffix</code> depends on the interaction you enabled. Please see the following table:</p>
<table>
<thead>
<tr class="header">
<th align="left">Interactions</th>
<th align="left">suffix</th>
<th align="left">shiny.input.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">draggagle</td>
<td align="left">position</td>
<td align="left">A list of the element’s left and top distances in px to its parent</td>
</tr>
<tr class="even">
<td align="left">droppable</td>
<td align="left">dragging</td>
<td align="left">The id of an acceptable element that is now dragging</td>
</tr>
<tr class="odd">
<td align="left">resizable</td>
<td align="left">size</td>
<td align="left">A list of the element’s size</td>
</tr>
<tr class="even">
<td align="left">selectable</td>
<td align="left">selected</td>
<td align="left">A dataframe containing the id and innerHTML of curently selected elements</td>
</tr>
<tr class="odd">
<td align="left">sortable</td>
<td align="left">order</td>
<td align="left">A dataframe containing the id and innerHTML of curently order of elements</td>
</tr>
</tbody>
</table>
<p>You can even customize these shiny input values by including a <code>shiny</code> option in the <code>options</code> parameter. The shiny option is a list in the following format:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">shiny_opt =<span class="st"> </span><span class="kw">list</span>(
  
  <span class="co"># define the shiny input value input$id_suffix1</span>
  <span class="dt">suffix1 =</span> <span class="kw">list</span>(
    <span class="co"># on event_type1 run callback1 and send the returned value to input$id_suffix1</span>
    <span class="dt">event_type1 =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(callback1),
    <span class="co"># on event_type2 run callback2 and send the returned value to input$id_suffix1</span>
    <span class="dt">event_type2 =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(callback2),
    ...
  ),
  
  <span class="co"># define the shiny input value input$id_suffix2</span>
  <span class="dt">suffix2 =</span> <span class="kw">list</span>(
    ...
  ),
  
  <span class="co"># define other shiny input values</span>
  
)</code></pre></div>
<p>Each element of the list is also a list that define a shiny input value. Its name is used as <code>siffix</code> in <code>input$id_suffix</code>. Within that list, there are multiple <code>htmlwidgets::JS</code> wrapped javascript callback functions named with corresponding event types. The event triggers the callback to run and the returned value is used to update the shiny input value. The valid event types for each interactions can be found in the <a href="http://api.jqueryui.com/category/interactions/">API Documentation</a> of jQuery UI. The callcack function takes two arguments, <code>event</code> and <code>ui</code>. The definition of the <code>ui</code> argument can also be found in that document too. Here is a simple example of <code>draggable</code> interaction:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">jqui_draggable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(
  <span class="dt">shiny =</span> <span class="kw">list</span>(
    <span class="co"># By default, draggable element has a shiny input value showing the element </span>
    <span class="co"># position (relative to the offset parent). Here, another shiny input</span>
    <span class="co"># value is added. It gives the element offset (position relative to the </span>
    <span class="co"># document). Using input$foo_offset to get access to it . </span>
    <span class="dt">offset =</span> <span class="kw">list</span>(
      <span class="co"># return the initiated offset value when the draggable is created</span>
      <span class="dt">dragcreate =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">'function(event, ui) { return $(event.target).offset(); };'</span>),
      <span class="co"># update the offset value while dragging</span>
      <span class="dt">drag =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">'function(event, ui) { return $(event.target).offset(); };'</span>)
    )
  )
))</code></pre></div>
</div>
<div id="draggable" class="section level3">
<h3>Draggable</h3>
<p>Draggable element can be moved by mouse. You can custom the movement by options:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># drag only horizontally</span>
<span class="kw">jqui_draggable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">axis =</span> <span class="st">'x'</span>))
<span class="co"># make movement snapping to a 80 x 80 grid</span>
<span class="kw">jqui_draggable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">grid =</span> <span class="kw">c</span>(<span class="dv">80</span>, <span class="dv">80</span>)))</code></pre></div>
</div>
<div id="droppable" class="section level3">
<h3>Droppable</h3>
<p>With the droppable interaction enabled, the element can sense the behavior of accepted draggable elements and make changes (e.g. change display style) accordingly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">jqui_droppable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(
  <span class="dt">accept =</span> <span class="st">'#bar'</span>, <span class="co"># Which draggable element to monitor.</span>
  <span class="dt">classes =</span> <span class="kw">list</span>(
    <span class="st">`</span><span class="dt">ui-droppable-active</span><span class="st">`</span> =<span class="st"> 'ui-state-active'</span>, <span class="co"># change class when draggable element is dragging</span>
    <span class="st">`</span><span class="dt">ui-droppable-hover</span><span class="st">`</span> =<span class="st"> 'ui-state-hover'</span> <span class="co"># change class when draggable element is dragging over</span>
  ),
  <span class="dt">drop =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(
    <span class="st">'function(event, ui){$(this).addClass(&quot;ui-state-highlight&quot;);}'</span>
  ) <span class="co"># change class when draggable element is dropped in</span>
))</code></pre></div>
<p>Note: When passing a javascrip callback function to the <code>opations</code> parameter, please wrap it with <code>htmlwidgets::JS()</code> so that it can be evaled correctly.</p>
</div>
<div id="resizable" class="section level3">
<h3>Resizable</h3>
<p>You can change the size of a resizable element by dragging the resize-handles around it. Several examples are listed here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># keep aspect ratio when resizing</span>
<span class="kw">jqui_resizable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">aspectRatio =</span> <span class="ot">TRUE</span>))

<span class="co"># Limit the resizable element to a maximum or minimum height or width</span>
<span class="kw">jqui_resizable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">minHeight =</span> <span class="dv">100</span>, <span class="dt">maxHeight =</span> <span class="dv">300</span>,
                                      <span class="dt">minWidth =</span> <span class="dv">200</span>, <span class="dt">maxWidth =</span> <span class="dv">400</span>))

<span class="co"># make the two plotOutputs resize synchronously</span>
<span class="kw">jqui_resizabled</span>(<span class="kw">plotOutput</span>(<span class="st">'plot1'</span>, <span class="dt">width =</span> <span class="st">'400px'</span>, <span class="dt">height =</span> <span class="st">'400px'</span>), 
                <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">alsoResize =</span> <span class="st">'#plot2'</span>)),
<span class="kw">jqui_resizabled</span>(<span class="kw">plotOutput</span>(<span class="st">'plot2'</span>, <span class="dt">width =</span> <span class="st">'400px'</span>, <span class="dt">height =</span> <span class="st">'400px'</span>), 
                <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">alsoResize =</span> <span class="st">'#plot1'</span>))</code></pre></div>
</div>
<div id="selectable" class="section level3">
<h3>Selectable</h3>
<p>The selectable interaction make target element’s children selectable. You can select by click, Ctrl+click or dragging a box (lasso selection). The selected elements may change display styles if specified in <code>options</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># highlight the selected plotOutput</span>
<span class="kw">jqui_selectabled</span>(
  <span class="kw">div</span>(
    <span class="kw">plotOutput</span>(<span class="st">'plot1'</span>, <span class="dt">width =</span> <span class="st">'400px'</span>, <span class="dt">height =</span> <span class="st">'400px'</span>),
    <span class="kw">plotOutput</span>(<span class="st">'plot2'</span>, <span class="dt">width =</span> <span class="st">'400px'</span>, <span class="dt">height =</span> <span class="st">'400px'</span>)
  ),
  <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">classes =</span> <span class="kw">list</span>(<span class="st">`</span><span class="dt">ui-selected</span><span class="st">`</span> =<span class="st"> 'ui-state-highlight'</span>))
)</code></pre></div>
</div>
<div id="sortable" class="section level3">
<h3>Sortable</h3>
<p>The sortable interaction makes target element’s children sortable. You can re-arrange them by drag and drop. Some examples here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># change opacity while sorting</span>
<span class="kw">jqui_sortable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">opacity =</span> <span class="fl">0.5</span>))

<span class="co"># only items with class &quot;items&quot; inside the element become sortable</span>
<span class="kw">jqui_sortable</span>(<span class="st">'#foo'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">items =</span> <span class="st">'&gt; .items'</span>))

<span class="co"># connect two sortable elements, so that items in one element can be dragged to another</span>
<span class="kw">jqui_sortable</span>(<span class="st">'#foo1'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">connectWith =</span> <span class="st">'#foo2'</span>))
<span class="kw">jqui_sortable</span>(<span class="st">'#foo2'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">connectWith =</span> <span class="st">'#foo1'</span>))</code></pre></div>
<p><code>shinyjqui</code> has a function called <code>orderInput()</code>. You can use it to display the order of a vector in shiny and users can change the order by drag and drop. The changed items order is send back to server as an input value. Please see the Vignette <code>orderInput</code> for details.</p>
</div>
</div>
<div id="animation-effects-functions" class="section level2">
<h2>Animation effects functions</h2>
<p>These functions apply an animation effect to an element:</p>
<table>
<thead>
<tr class="header">
<th align="left">Functions</th>
<th align="left">Description</th>
<th align="left">Where_to_use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">jqui_effect</td>
<td align="left">Let element(s) to show an animation immediately.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_show</td>
<td align="left">Display hidden element(s) with an animation</td>
<td align="left">server</td>
</tr>
<tr class="odd">
<td align="left">jqui_hide</td>
<td align="left">Hide element(s) with an animation</td>
<td align="left">server</td>
</tr>
</tbody>
</table>
<p>The above three functions use <a href="https://api.jquery.com/category/selectors/">jQuery selector</a> to locate the target element(s) and should be used in <code>server</code>.</p>
<p>The <code>effect</code> parameter accept a string that defines which animation effect to apply. You can get a full list of animation effects by <code>get_jqui_effects()</code>:</p>
<pre><code>##  [1] &quot;blind&quot;     &quot;bounce&quot;    &quot;clip&quot;      &quot;drop&quot;      &quot;explode&quot;  
##  [6] &quot;fade&quot;      &quot;fold&quot;      &quot;highlight&quot; &quot;puff&quot;      &quot;pulsate&quot;  
## [11] &quot;scale&quot;     &quot;shake&quot;     &quot;size&quot;      &quot;slide&quot;     &quot;transfer&quot;</code></pre>
<p>There is a live demo for each effect <a href="http://jqueryui.com/effect/">here</a>. Note: The <code>transfer</code> effect can only be used in <code>jqui_effect()</code>.</p>
<p>The <code>options</code> parameter accept a list of effect specific options. Please find more details <a href="http://api.jqueryui.com/category/effects/">here</a>. The <code>complete</code> parameter accept a javascript callback function which will be called after the animation. Please wrap it with <code>htmlwidgets::JS()</code>.</p>
<p>Here are some examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in shiny ui</span>
<span class="kw">plotOutput</span>(<span class="st">'foo'</span>, <span class="dt">width =</span> <span class="st">'400px'</span>, <span class="dt">height =</span> <span class="st">'400px'</span>)

<span class="co"># in shiny server</span>
<span class="kw">jqui_effect</span>(<span class="st">'#foo'</span>, <span class="dt">effect =</span> <span class="st">'bounce'</span>) <span class="co"># bounces the plot</span>
<span class="kw">jqui_effect</span>(<span class="st">'#foo'</span>, <span class="dt">effect =</span> <span class="st">'scale'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">percent =</span> <span class="dv">50</span>)) <span class="co"># scale to 50%</span>
<span class="kw">jqui_hide</span>(<span class="st">'#foo'</span>, <span class="dt">effect =</span> <span class="st">'size'</span>, <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">200</span>, <span class="dt">height =</span> <span class="dv">60</span>)) <span class="co"># resize then hide</span>
<span class="kw">jqui_show</span>(<span class="st">'#foo'</span>, <span class="dt">effect =</span> <span class="st">'clip'</span>) <span class="co"># show the plot by clipping</span></code></pre></div>
</div>
<div id="classes-animation-functions" class="section level2">
<h2>Classes animation functions</h2>
<p>These functions change shiny elements’ class(es) while animating all style changes:</p>
<table>
<thead>
<tr class="header">
<th align="left">Functions</th>
<th align="left">Description</th>
<th align="left">Where_to_use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">jqui_add_class</td>
<td align="left">Add class(es) to element(s) while animating all style changes.</td>
<td align="left">server</td>
</tr>
<tr class="even">
<td align="left">jqui_remove_class</td>
<td align="left">Remove class(es) from element(s) while animating all style changes.</td>
<td align="left">server</td>
</tr>
<tr class="odd">
<td align="left">jqui_switch_class</td>
<td align="left">Add and remove class(es) to element(s) while animating all style changes.</td>
<td align="left">server</td>
</tr>
</tbody>
</table>
<p>Similar to the animation effects functions, these functions need a <a href="https://api.jquery.com/category/selectors/">jQuery selector</a> and please use them in <code>server</code>.</p>
<p>The <code>easing</code> parameter defines the speed style of the animation progresses. More details can be found <a href="http://api.jqueryui.com/easings/">here</a></p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
